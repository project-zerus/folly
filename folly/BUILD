cc_library(
  name = 'follybase',
  extra_cppflags = [
    '-Wno-sign-compare',
  ],
  srcs = [
    "Conv.cpp",
    "Demangle.cpp",
    "EscapeTables.cpp",
    "Format.cpp",
    "FormatTables.cpp",
    "Malloc.cpp",
    "Range.cpp",
    "String.cpp",
    "Unicode.cpp",
    "detail/MallocImpl.cpp",
  ],
  deps = [
    '//folly:headers',
  ]
)

cc_library(
  name = 'folly',
  extra_cppflags = [
    '-Wno-sign-compare',
  ],
  srcs = [
    "Benchmark.cpp",
    "Bits.cpp",
    "detail/CacheLocality.cpp",
    "dynamic.cpp",
    "File.cpp",
    "FileUtil.cpp",
    "FingerprintTables.cpp",
    "detail/Futex.cpp",
    "GroupVarint.cpp",
    "GroupVarintTables.cpp",
    "IPAddress.cpp",
    "IPAddressV4.cpp",
    "IPAddressV6.cpp",
    "LifoSem.cpp",
    "io/Compression.cpp",
    "io/IOBuf.cpp",
    "io/IOBufQueue.cpp",
    "io/RecordIO.cpp",
    "io/async/AsyncTimeout.cpp",
    "io/async/EventBase.cpp",
    "io/async/EventHandler.cpp",
    "io/async/Request.cpp",
    "io/async/HHWheelTimer.cpp",
    "json.cpp",
    "detail/MemoryIdler.cpp",
    "MacAddress.cpp",
    "MemoryMapping.cpp",
    "Random.cpp",
    "SafeAssert.cpp",
    "SocketAddress.cpp",
    "SpookyHashV1.cpp",
    "SpookyHashV2.cpp",
    "stats/Instantiations.cpp",
    "Subprocess.cpp",
    "ThreadCachedArena.cpp",
    "TimeoutQueue.cpp",
    "Uri.cpp",
    "Version.cpp",
    "wangle/InlineExecutor.cpp",
    "wangle/ManualExecutor.cpp",
    "wangle/ThreadGate.cpp",
    "experimental/io/FsUtil.cpp",
    "experimental/io/HugePages.cpp",
    "experimental/TestUtil.cpp",
    "experimental/wangle/ConnectionManager.cpp",
    "experimental/wangle/ManagedConnection.cpp",
  ],
  deps = [
    ':follybase',
  ]
)
